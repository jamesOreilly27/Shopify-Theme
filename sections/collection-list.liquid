<section>
  {% if section.settings.title != blank %}
    <h2 class="collection-list__title">{{ section.settings.title | escape }}</h2>
  {% endif %}
  <div class="collection-list">
    {% for block in section.blocks %}
      {%- assign collection = collections[block.settings.collection] -%}
      {% include 'collection-card' with collection %}
    {% endfor %}
  </div>
</section>

{% schema %}
  {
    "name": "Collection List",
    "max_blocks": 6,
    "settings": [{ "type": "text", "id": "title", "label": "Heading", "default": "Collection List" }],
    "blocks": [{
      "type": "collection",
      "name": "Collection",
      "settings": [{ "label": "Collection", "id": "collection", "type": "collection" }]
    }],
    "presets": [{
      "name": "Collection List",
      "category": "Collection",
      "blocks": [
        { "type": "collection" },
        { "type": "collection" },
        { "type": "collection" }
      ]
    }]
  }
{% endschema %}